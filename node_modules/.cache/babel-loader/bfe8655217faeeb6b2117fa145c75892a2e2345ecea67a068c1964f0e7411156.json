{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Swapnil/Desktop/blog/blogweb/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Swapnil/Desktop/blog/blogweb/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Swapnil/Desktop/blog/blogweb/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{addDoc,collection}from\"firebase/firestore\";import{db,auth}from\"../firebase-config\";import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CreatePost(_ref){var isAuth=_ref.isAuth;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),postText=_useState4[0],setPostText=_useState4[1];var postsCollectionRef=collection(db,\"posts\");var navigate=useNavigate();var createPost=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return addDoc(postsCollectionRef,{title:title,postText:postText,author:{name:auth.currentUser.displayName,id:auth.currentUser.uid}});case 2:navigate('/');case 3:case\"end\":return _context.stop();}},_callee);}));return function createPost(){return _ref2.apply(this,arguments);};}();useEffect(function(){if(!isAuth){navigate(\"/login\");}},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"createPostPage\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cpContainer\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create A Post\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGp\",children:[/*#__PURE__*/_jsx(\"label\",{children:\" Title : \"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"title...\",onChange:function onChange(event){setTitle(event.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputGp\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Post:\"}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"post..\",onChange:function onChange(event){setPostText(event.target.value);}})]}),/*#__PURE__*/_jsx(\"button\",{onClick:createPost,children:\" Submit Post\"})]})});}export default CreatePost;","map":{"version":3,"names":["React","useState","useEffect","addDoc","collection","db","auth","useNavigate","jsx","_jsx","jsxs","_jsxs","CreatePost","_ref","isAuth","_useState","_useState2","_slicedToArray","title","setTitle","_useState3","_useState4","postText","setPostText","postsCollectionRef","navigate","createPost","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_callee$","_context","prev","next","author","name","currentUser","displayName","id","uid","stop","apply","arguments","className","children","placeholder","onChange","event","target","value","onClick"],"sources":["C:/Users/Swapnil/Desktop/blog/blogweb/src/pages/CreatePost.js"],"sourcesContent":["import React, { useState, useEffect} from 'react';\r\nimport {addDoc , collection} from \"firebase/firestore\"; \r\nimport { db, auth} from \"../firebase-config\";\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\n\r\nfunction CreatePost({isAuth}) {\r\n\r\n const [title ,setTitle] = useState(\"\");\r\n const [postText, setPostText] = useState(\"\");\r\n\r\n const postsCollectionRef = collection(db,\"posts\");\r\n let navigate = useNavigate();\r\n\r\n const createPost = async () => {\r\n      await addDoc(postsCollectionRef,  {\r\n        title, \r\n        postText, \r\n        author: {name: auth.currentUser.displayName, id: auth.currentUser.uid},\r\n      });\r\n      navigate('/');\r\n };\r\n\r\n \r\n useEffect(() => {\r\n  if(!isAuth){\r\n    navigate(\"/login\");\r\n  }\r\n},[]);\r\n\r\n  return (\r\n    <div className='createPostPage'>\r\n      <div className='cpContainer'>\r\n\r\n        <h1>Create A Post</h1>\r\n        <div className='inputGp'>\r\n        <label> Title : </label>\r\n        <input placeholder='title...' onChange={(event) => {\r\n          setTitle(event.target.value);\r\n        }}  \r\n         />\r\n        </div>\r\n        <div className='inputGp'>\r\n          <label>Post:</label>\r\n          <textarea placeholder='post..' onChange={(event) => {\r\n          setPostText(event.target.value); \r\n        }} />\r\n        </div>\r\n\r\n        <button onClick={createPost}> Submit Post</button>\r\n      </div>\r\n    </div>\r\n    \r\n  )\r\n}\r\n\r\nexport default CreatePost;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}